# Agent Configuration
agent:
  name: "Executive Assistant"
  model: "ollama-cloud:minimax-m2.5"
  system_prompt: |
    You are a helpful executive assistant.
    
    CRITICAL RULES:
    - NEVER guess or estimate - always use tools to get exact numbers/facts
    - If you don't know, say "Let me check" and call the appropriate tool
    - Tell user EXACTLY what the tool returns, never your estimate

# Database
database:
  host: "localhost"
  port: 5432
  name: "executive_assistant"
  user: "postgres"
  password: "" # Set via env var DB_PASSWORD
  pool_size: 10

# Memory / Checkpointing
memory:
  # Checkpointer: LangGraph SQLite
  # retention_days: 0=disabled, -1=forever, N=keep for N days
  checkpointer:
    retention_days: 0  # 0=disabled, -1=forever, N=days

  # Long-term message storage (SQLite + FTS5 + ChromaDB)
  messages:
    enabled: true
    path: "data/users/{user_id}/.conversation/messages.db"

  # Summarization: LangChain SummarizationMiddleware (short-term token reduction)
  summarization:
    enabled: true
    trigger_tokens: 10000
    keep_messages: 10

# Observability
observability:
  logging:
    enabled: true
    level: "info" # debug, info, warning, error
    json_dir: "data/logs"
  langfuse:
    enabled: true
    public_key: "" # Set via env var
    secret_key: "" # Set via env var
    host: "https://cloud.langfuse.com"
    environment: "development" # production, development, staging (per Langfuse docs).

# API Server
api:
  host: "0.0.0.0"
  port: 8000
  reload: false
  workers: 1 # Single-threaded per user constraint

# CLI
cli:
  history_file: "~/.ea_history"
  prompt: "> "

# Tools
tools:
  firecrawl:
    api_key: ""  # Set via env var FIRECRAWL_API_KEY
    base_url: ""  # For self-hosted, e.g., "http://localhost:3002"
  max_retries: 3
  timeout: 30

# Skills
skills:
  directory: "src/skills"
  user_directory: "data/users/{user_id}/skills"

# Filesystem
filesystem:
  enabled: true
  root_path: "data/users/{user_id}/workspace"
  max_file_size_mb: 10

# Shell
shell_tool:
  enabled: true
  allowed_commands:
    - python3
    - node
    - echo
    - date
    - whoami
    - pwd
  timeout_seconds: 30
  max_output_kb: 100
