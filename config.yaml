# Agent Configuration
agent:
  name: "Executive Assistant"
  model: "ollama-cloud:minimax-m2.5"

# Database
database:
  host: "localhost"
  port: 5432
  name: "executive_assistant"
  user: "postgres"
  password: "" # Set via env var DB_PASSWORD
  pool_size: 10

# Memory / Checkpointing
memory:
  # Checkpointer: LangGraph SQLite
  checkpointer:
    enabled: true
    retention_days: 7  # Keep checkpoints for N days

  # Long-term message storage
  messages:
    enabled: true
    path: "data/users/{user_id}/.conversation/messages.duckdb"

  # Daily journal (summaries)
  journal:
    enabled: true
    path: "data/users/{user_id}/.conversation/journal.duckdb"
    model: "ollama:minimax-m2.5"  # Model for daily summarization

  # Summarization: LangChain SummarizationMiddleware (short-term token reduction)
  summarization:
    enabled: true
    trigger_tokens: 10000
    keep_messages: 10

# Observability
observability:
  logging:
    enabled: true
    level: "info" # debug, info, warning, error
    json_dir: "data/logs"
  langfuse:
    enabled: true
    public_key: "" # Set via env var
    secret_key: "" # Set via env var
    host: "https://cloud.langfuse.com"
    environment: "development" # production, development, staging (per Langfuse docs).

# API Server
api:
  host: "0.0.0.0"
  port: 8000
  reload: false
  workers: 1 # Single-threaded per user constraint

# CLI
cli:
  history_file: "~/.ea_history"
  prompt: "> "

# Tools
tools:
  firecrawl:
    api_key: "" # Set via env var FIRECRAWL_API_KEY
  max_retries: 3
  timeout: 30

# Skills
skills:
  directory: "src/skills"
  user_directory: "data/users/{user_id}/skills"

# Filesystem
filesystem:
  enabled: true
  root_path: "data/users/{user_id}/files"
  max_file_size_mb: 10

# Shell
shell_tool:
  enabled: true
  allowed_commands:
    - python
    - python3
    - node
    - echo
    - date
    - whoami
    - pwd
  hitl_commands:
    - rm
    - rmdir
  timeout_seconds: 30
  max_output_kb: 100

# TodoList - Automatic task decomposition middleware
todo_list:
  enabled: false  # Enable to automatically decompose complex tasks into subtasks
  # system_prompt: ""  # Custom prompt for task planning (optional)
  # tool_description: ""  # Custom description for write_todos tool (optional)
